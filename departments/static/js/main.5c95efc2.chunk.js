(this["webpackJsonpkapital-department"]=this["webpackJsonpkapital-department"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),l=(a(65),a(10)),o=a(11),u=a(13),s=a(12),m=a(14),d=a(3),p=a(52),f=a(18),g=function(e){return function(e){return function(t){return e(t)}}},v=function(e){return function(t,a,n){return e((function(e,a){var n,r=performance.now(),i=t(e,a),c=performance.now();n=c-r,Math.round(100*n);return i}),a,n)}},h=a(6),E=a(5),b=["name","vacation_count","vacations","displacements_from","displacements_to","displacement_to_count","displacement_from_count","fte","online_user_count","queues"],w=["max_serving_time","avg_waiting_time","avg_serving_time","max_waiting_time"],A={branchName:"",isInit:!1,branchId:"",departmentsName:[],departments:[],shownDepartmentName:"Xidmet",queues:[],shownQueue:null,showCardData:{},shownQueueData:{},shownQueueTableData:{},showTableView:!1},_=a(34),O=a(53),y=a.n(O),C=a(54),x=a.n(C);function j(){var e=r.a.useState("No one"),t=Object(E.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){x.a.get("/rest/servicepoint/user/").then((function(e){n(e.data.fullName)}))}),[]),r.a.createElement("div",{className:_.header},r.a.createElement("div",{className:_.headerContainer},r.a.createElement("img",{src:y.a,alt:""}),r.a.createElement("div",null,a)))}var N=a(16);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=r.a.createElement("g",{id:"icon/action/contact_support_24px"},r.a.createElement("path",{id:"icon/action/contact_support_24px_2",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.695V23.295L12.93 22.605C18.06 20.135 21.5 15.155 21.5 10.205C21.5 4.965 17.24 0.705002 12 0.705002C6.76 0.705002 2.5 4.965 2.5 10.205C2.5 15.275 6.49 19.435 11.5 19.695ZM4.5 10.205C4.5 6.065 7.86 2.705 12 2.705C16.14 2.705 19.5 6.065 19.5 10.205C19.5 13.925 17.14 17.705 13.5 20.005V17.705H12C7.86 17.705 4.5 14.345 4.5 10.205ZM13 14.205V16.205H11V14.205H13ZM12.7704 9.52668C11.9421 10.1616 11 10.8837 11 12.705H13C13 11.6096 13.711 10.9883 14.4408 10.3505C15.21 9.67832 16 8.98792 16 7.705C16 5.495 14.21 3.705 12 3.705C9.79 3.705 8 5.495 8 7.705H10C10 6.605 10.9 5.705 12 5.705C13.1 5.705 14 6.605 14 7.705C14 8.58422 13.4202 9.02861 12.7704 9.52668Z",fill:"black",fillOpacity:.54})),k=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return r.a.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,D)},R=r.a.forwardRef((function(e,t){return r.a.createElement(k,T({svgRef:t},e))}));a.p;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var H=r.a.createElement("g",{id:"icon/action/card_travel_24px"},r.a.createElement("path",{id:"icon/action/card_travel_24px_2",fillRule:"evenodd",clipRule:"evenodd",d:"M17 6.5H20C21.11 6.5 22 7.39 22 8.5V19.5C22 20.61 21.11 21.5 20 21.5H4C2.89 21.5 2 20.61 2 19.5V8.5C2 7.39 2.89 6.5 4 6.5H7V4.5C7 3.39 7.89 2.5 9 2.5H15C16.11 2.5 17 3.39 17 4.5V6.5ZM15 4.5H9V6.5H15V4.5ZM20 19.5H4V17.5H20V19.5ZM4 14.5H20V8.5H17V10.5H15V8.5H9V10.5H7V8.5H4V14.5Z",fill:"black",fillOpacity:.54})),M=function(e){var t=e.svgRef,a=e.title,n=Q(e,["svgRef","title"]);return r.a.createElement("svg",I({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,H)},q=r.a.forwardRef((function(e,t){return r.a.createElement(M,I({svgRef:t},e))}));a.p;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var P=r.a.createElement("g",{id:"icon/editor/attach_money_24px"},r.a.createElement("path",{id:"icon/editor/attach_money_24px_2",d:"M12.39 10.9C10.12 10.31 9.39 9.7 9.39 8.75C9.39 7.66 10.4 6.9 12.09 6.9C13.87 6.9 14.53 7.75 14.59 9H16.8C16.73 7.28 15.68 5.7 13.59 5.19V3H10.59V5.16C8.65 5.58 7.09 6.84 7.09 8.77C7.09 11.08 9 12.23 11.79 12.9C14.29 13.5 14.79 14.38 14.79 15.31C14.79 16 14.3 17.1 12.09 17.1C10.03 17.1 9.22 16.18 9.11 15H6.91C7.03 17.19 8.67 18.42 10.59 18.83V21H13.59V18.85C15.54 18.48 17.09 17.35 17.09 15.3C17.09 12.46 14.66 11.49 12.39 10.9Z",fill:"black",fillOpacity:.54})),W=function(e){var t=e.svgRef,a=e.title,n=V(e,["svgRef","title"]);return r.a.createElement("svg",B({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,P)},L=r.a.forwardRef((function(e,t){return r.a.createElement(W,B({svgRef:t},e))}));a.p;function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Z=r.a.createElement("g",{id:"icon/content/next_week_24px"},r.a.createElement("path",{id:"icon/content/next_week_24px_2",fillRule:"evenodd",clipRule:"evenodd",d:"M16 6.5H20C21.1 6.5 22 7.4 22 8.5V19.5C22 20.6 21.1 21.5 20 21.5H4C2.9 21.5 2 20.6 2 19.5V8.5C2 7.4 2.9 6.5 4 6.5H8V4.5C8 3.4 8.9 2.5 10 2.5H14C14.55 2.5 15.05 2.72 15.41 3.09C15.78 3.45 16 3.95 16 4.5V6.5ZM11 10L15 14L11 18L10 17L13 14L10 11L11 10ZM10 4.5H14V6.5H10V4.5ZM4 19.5H20V8.5H4V19.5Z",fill:"black",fillOpacity:.54})),z=function(e){var t=e.svgRef,a=e.title,n=J(e,["svgRef","title"]);return r.a.createElement("svg",U({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,Z)},G=r.a.forwardRef((function(e,t){return r.a.createElement(z,U({svgRef:t},e))}));a.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var X=r.a.createElement("g",{id:"icon/action/credit_card_24px"},r.a.createElement("path",{id:"icon/action/credit_card_24px_2",fillRule:"evenodd",clipRule:"evenodd",d:"M20 4H4C2.89 4 2.01 4.89 2.01 6L2 18C2 19.11 2.89 20 4 20H20C21.11 20 22 19.11 22 18V6C22 4.89 21.11 4 20 4ZM20 18H4V12H20V18ZM4 8H20V6H4V8Z",fill:"black",fillOpacity:.54})),F=function(e){var t=e.svgRef,a=e.title,n=K(e,["svgRef","title"]);return r.a.createElement("svg",Y({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,X)},$=r.a.forwardRef((function(e,t){return r.a.createElement(F,Y({svgRef:t},e))}));a.p;var ee=Object(d.b)((function(e){return{shownDepartmentName:e.shownDepartmentName,departments:e.departments}}),(function(e){return{setShownDepartment:function(t,a){return e(function(e,t){return{type:"SET_SHOWN_DEPARTMENT_NAME",departmentName:e,data:t}}(t,a))}}}))((function(e){var t;switch(e.name){case"Xidmet":t=r.a.createElement(R,null);break;case"Satish":t=r.a.createElement(q,null);break;case"Kassa":t=r.a.createElement(L,null);break;case"Huquqi shexsler":t=r.a.createElement(G,null);break;case"Huquqi shexsler - Kassa":t=r.a.createElement($,null)}return r.a.createElement("div",{onClick:function(){document.title=e.name,e.setShownDepartment(e.name,e.departments)},className:e.shownDepartmentName===e.name?"".concat(N.sidebarItemClass," ").concat(N.sidebarItemClass_active):N.sidebarItemClass},t,r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))}));var te=Object(d.b)((function(e){return{departmentsName:e.departmentsName}}))((function(e){return r.a.createElement("div",{className:N.SidebarNavClass},e.departmentsName.map((function(e,t){return r.a.createElement(ee,{key:t,name:e})})))}));var ae=Object(d.b)((function(e){return{branchName:e.branchName}}))((function(e){return r.a.createElement("div",{className:N.sidebar},r.a.createElement("p",{style:{padding:"0 0 0 35px",marginBottom:"13px",color:"#fff",fontSize:"20px"}},e.branchName),r.a.createElement(te,null))})),ne=a(24),re=function(){return r.a.createElement(ne.a,{speed:2,width:156,height:96,viewBox:"0 0 150 100",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{marginBottom:"20px"}},r.a.createElement("rect",{x:"0",y:"0",rx:"2",ry:"2",width:"156",height:"10"}),r.a.createElement("rect",{x:"0",y:"20",rx:"2",ry:"2",width:"196",height:"90"}))};function ie(e){var t=e.name,a=e.count;e.color;return r.a.createElement("div",{className:"trigger-div"},r.a.createElement("span",{style:{textAlign:"center"}},t),r.a.createElement("p",{style:{fontWeight:"bold",fontSize:"20px",lineHeight:"42px",color:"#333",width:"100%",textAlign:"center",backgroundColor:"#fff"}},null===a?"no ticket":a))}var ce=a(25),le=a(26),oe=(a(46),function(e){var t=e.children,a=e.tooltip,n=e.hideArrow,i=Object(ce.a)(e,["children","tooltip","hideArrow"]);return r.a.createElement(le.a,Object.assign({},i,{tooltip:function(e){var t=e.arrowRef,i=e.tooltipRef,c=e.getArrowProps,l=e.getTooltipProps,o=e.placement;return r.a.createElement("div",l({ref:i,className:"tooltip-container"}),!n&&r.a.createElement("div",c({ref:t,className:"tooltip-arrow","data-placement":o})),a)}}),(function(e){var a=e.getTriggerProps,n=e.triggerRef;return r.a.createElement("span",a({ref:n,className:"trigger"}),t)}))}),ue={ticket_count:{name:"TICKETS",fullName:"Ticket count"},served_customer_count:{name:"SERVED",fullName:"Served customer count"},waiting_customer_count:{name:"WAITING",fullName:"Waiting customer count"},noshow_count:{name:"NO SHOW",fullName:"Noshow count"},reject_count:{name:"REJECT",fullName:"Reject count"},removed_customer_count:{name:"REMOVED",fullName:"Removed customer count"},avg_waiting_time:{name:"AWT",fullName:"Avg waiting time"},avg_serving_time:{name:"AST",fullName:"Avg serving time"},max_waiting_time:{name:"MWT",fullName:"Max waiting time"},max_serving_time:{name:"MST",fullName:"Max serving time"},first_ticket_time:{name:"FTT",fullName:"First ticket time"},last_ticket_time:{name:"LTT",fullName:"Last ticket time"}},se=["max_serving_time","avg_waiting_time","avg_serving_time","max_waiting_time"],me=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){e.props.updateTime()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){for(var e=[],t=[],a=0,n=Object.entries(this.props.showCardDataStore.showCardData);a<n.length;a++){var i=Object(E.a)(n[a],2),c=i[0],l=i[1];if("id"===c);else if(-1!==se.indexOf(c)){var o="normal";if(l.dinamic&&null!==l.added&&void 0!==l.added){var u=l.added.split(":");"avg_waiting_time"===c?u[0]>0?o="wrap-red":u[1]>0?o="wrap-red":u[1]<40&&u[1]>20?o="wrap-yellow":u[1]<20&&u[1]>0&&(o="wrap-green"):u[0]>0?o="wrap-red":u[1]>20?o="wrap-red":u[1]<20&&u[1]>10?o="wrap-yellow":u[1]<10&&u[1]>0&&(o="wrap-green")}var s=l.dinamic?null===l.added?l.text:l.added:l.text;t.push(r.a.createElement("div",{className:"card-wrap ".concat(o),key:c},r.a.createElement(oe,{followCursor:!0,hideArrow:!0,trigger:"hover",tooltip:ue["".concat(c)].fullName},r.a.createElement(ie,{name:ue["".concat(c)].name,count:s}))))}else t.push(r.a.createElement("div",{className:"card-wrap",key:c},r.a.createElement(oe,{followCursor:!0,hideArrow:!0,trigger:"hover",tooltip:ue["".concat(c)].fullName},r.a.createElement(ie,{name:ue["".concat(c)].name,count:l}))))}for(var m=0;m<12;m++)e.push(r.a.createElement(re,{key:m}));return Object.keys(this.props.showCardDataStore.showCardData).length>0?r.a.createElement("div",null,r.a.createElement("h1",{style:{margin:"0 0 15px -15px"}},"Total"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",margin:"0 -15px"}},t)):r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"}},e)}}]),t}(r.a.Component),de=Object(d.b)((function(e){return{departments:e.departments,departmentName:e.shownDepartmentName,showCardDataStore:e}}),(function(e){return{updateTime:function(){return e({type:"UPDATE_TIME"})}}}))(me),pe=a(20),fe=function(){return r.a.createElement(ne.a,{speed:8,width:1156,height:372,viewBox:"0 0 210 80",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{marginBottom:"20px",height:"470px"}},r.a.createElement("rect",{x:"0",y:"0",rx:"2",ry:"2",width:"206",height:"10"}),r.a.createElement("rect",{x:"0",y:"20",rx:"2",ry:"2",width:"206",height:"260"}))},ge=a(57),ve=a.n(ge),he=a(58),Ee=a.n(he),be=a(27),we=function(e){var t=e.children,a=e.tooltip,n=e.hideArrow,i=Object(ce.a)(e,["children","tooltip","hideArrow"]);return r.a.createElement(le.a,Object.assign({},i,{tooltip:function(e){var t=e.arrowRef,i=e.tooltipRef,c=e.getArrowProps,l=e.getTooltipProps,o=e.placement;return r.a.createElement("div",l({ref:i,className:"tooltip-container"}),!n&&r.a.createElement("div",c({ref:t,className:"tooltip-arrow","data-placement":o})),a)}}),(function(e){var a=e.getTriggerProps,n=e.triggerRef;return r.a.createElement("span",a({ref:n,className:"trigger-common"}),t)}))},Ae=["max_serving_time","avg_waiting_time","avg_serving_time","max_waiting_time"];var _e=Object(d.b)((function(e){return{tableData:e}}))((function(e){var t=e.tableData.shownQueueTableData.map((function(e,t){for(var a=[],n=0,i=Object.entries(e);n<i.length;n++){var c=Object(E.a)(i[n],2),l=c[0],o=c[1];if("id"===l);else if(Ae.includes(l)){var u="green";if(o.dinamic&&null!==o.added&&void 0!==o.added){var s=o.added.split(":");"avg_waiting_time"===l?s[0]>0?u="red":s[1]>0?u="red":s[1]<40&&s[1]>20?u="yellow":s[1]<20&&s[1]>0&&(u="green"):s[0]>0?u="red":s[1]>20?u="red":s[1]<20&&s[1]>10?u="yellow":s[1]<10&&s[1]>0&&(u="green")}a.push(r.a.createElement("td",{key:l},r.a.createElement("span",{style:{padding:"0 6px",borderRadius:"4px",color:u}},o.dinamic?null===o.added?o.text:o.added:o.text)))}else"name"===l?a.push(r.a.createElement("td",{key:l},o)):a.push(r.a.createElement("td",{key:l,style:{textAlign:"center"}},r.a.createElement("span",{style:{padding:"0 6px",borderRadius:"4px",textAlign:"center",color:"#333"}},null===o?"no ticket":o)))}return r.a.createElement("tr",{key:t},a.map((function(e){return e})))}));return r.a.createElement("div",{style:{overflow:"auto",maxWidth:"calc(100vw - 260px)",borderRadius:"5px"}},r.a.createElement("table",{className:be.table},r.a.createElement("thead",{className:be.table_head},r.a.createElement("tr",null,r.a.createElement("td",null,"Queues"),r.a.createElement("td",null,"Ticket\xa0Count"),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Served customer count"},"Served")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Waiting customer count"},"WAITING")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Noshow count"},"NO\xa0SHOW")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Reject count"},"REJECT")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Removed customer count"},"REMOVED")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Avg waiting time"},"AWT")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Avg serving time"},"AST")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Max waiting time"},"MWT")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Max serving time"},"MST")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"First ticket time"},"FTT")),r.a.createElement("td",null,r.a.createElement(we,{trigger:"hover",tooltip:"Last ticket time"},"LTT")))),r.a.createElement("tbody",{className:be.table_body},t)))})),Oe=a(9);function ye(e){var t=e.names.map((function(t){return r.a.createElement("li",{key:t.id,id:t.id,onClick:function(){return e.setShownQueue(t.id)}},t.name)}));return r.a.createElement("div",{className:Oe.queues_name},r.a.createElement("p",{className:Oe.queues_title},"Queue name"),r.a.createElement("ul",{className:Oe.queues_list},t))}var Ce={ticket_count:"TICKETS",served_customer_count:"SERVED",waiting_customer_count:"WAITING",noshow_count:"NO SHOW",reject_count:"REJECT",removed_customer_count:"REMOVED",avg_waiting_time:"AWT",avg_serving_time:"AST",max_waiting_time:"MWT",max_serving_time:"MST",first_ticket_time:"FTT",last_ticket_time:"LTT"},xe=["max_serving_time","avg_waiting_time","avg_serving_time","max_waiting_time"];var je=Object(d.b)((function(e){return{queues:e}}))((function(e){for(var t=[],a=0,n=Object.entries(e.queues.shownQueueData);a<n.length;a++){var i=Object(E.a)(n[a],2),c=i[0],l=i[1];"id"===c||"name"===c||t.push(r.a.createElement("li",{key:c},r.a.createElement("span",null,Ce["".concat(c)]),r.a.createElement("span",null,-1!==xe.indexOf(c)?l.dinamic&&null!==l.added?l.added:l.text:null===l?"no data":l)))}return r.a.createElement("div",{className:Oe.queues_data},r.a.createElement("div",{className:Oe.queues_title},e.queues.shownQueueData.name),r.a.createElement("ul",{className:Oe.queues_list},t.map((function(e){return e}))))})),Ne=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(Object.keys(this.props.queue).length<1)return r.a.createElement("div",{className:Oe.queues},"Loading...");var e=this.props.queues.map((function(e){return{id:e.id,name:e.name}}));return r.a.createElement("div",{className:Oe.queues},r.a.createElement(ye,{names:e,setShownQueue:this.props.setShownQueue}),r.a.createElement(je,null))}}]),t}(r.a.Component),Te=Object(d.b)((function(e){return{shownQueue:e.shownQueue,queues:e.queues}}),(function(e){return{setShownQueue:function(t){return e(function(e){return{type:"SET_SHOWN_QUEUE",queueId:e}}(t))}}}))(Ne);var Se=Object(d.b)((function(e){return{departments:e.departments,shownDepartment:e.shownDepartmentName,currQueues:e,showTableView:e.showTableView}}),(function(e){return{changeQueueView:function(t){return e(function(e){return{type:"CHANGE_QUEUE_VIEW",viewBool:e}}(t))}}}))((function(e){var t=e.departments,a=e.shownDepartment,n=t.filter((function(e){return e.name===a})),i=[];return n.length>0&&(i=n[0].queues),i.length>0&&Object.keys(e.currQueues.shownQueueData).length>0?r.a.createElement("div",{className:pe.contentlistveiw},r.a.createElement("div",{className:"header-wrap",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"25px"}},r.a.createElement("div",{className:"header-name"},r.a.createElement("div",{className:"header-title",style:{fontSize:"28px",fontWeight:"bold"}},"Queues")),r.a.createElement("div",{className:pe.contentlistveiw_header},r.a.createElement("div",{className:pe.contentlistveiw_tabs},r.a.createElement("div",{className:"list-btn",style:{cursor:"pointer"},onClick:function(){return e.changeQueueView(!1)}},r.a.createElement("img",{src:Ee.a,alt:""})),r.a.createElement("div",{className:"list-btn",style:{cursor:"pointer",marginRight:"4px"},onClick:function(){return e.changeQueueView(!0)}},r.a.createElement("img",{src:ve.a,alt:""}))))),r.a.createElement("div",{style:{height:"100%"}},e.showTableView?r.a.createElement(Te,{defaultId:i[0].id,queue:e.currQueues.shownQueueData}):r.a.createElement(_e,null))):r.a.createElement(fe,null)})),De=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:pe.content},r.a.createElement("div",{className:"contentcard-wrapper",style:{width:"100%"}},r.a.createElement(de,null)),r.a.createElement("div",{className:pe.contentList},r.a.createElement(Se,null)))}}]),t}(n.Component);function ke(){return r.a.createElement("div",{style:{display:"flex",minHeight:"calc(100vh - 70px)"}},r.a.createElement(ae,null),r.a.createElement(De,null))}var Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).setShownDepartment=function(e){a.setState({shownDepartmentName:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("branch")||1;new WebSocket("ws://10.0.22.36:8000/branches/".concat(t,"/departments/")).onmessage=function(t){var a=JSON.parse(t.data);"init"===a.action&&e.props.setDepartmentsName(a.payload),a.action,"update_department"===a.action&&e.props.updateDepartment(a.payload)}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(ke,null))}}]),t}(n.Component),Ie=Object(d.b)(null,(function(e){return{setDepartmentsName:function(t){return e({type:"SET_DEPARTMENTS_NAME",payload:t})},updateDepartment:function(t){return e({type:"UPDATE_DEPARTMENT",data:t})}}}))(Re),Qe=a(59),He=Object(f.applyMiddleware)(g,p.a),Me=Object(f.compose)(He,v),qe=Object(f.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEPARTMENTS_NAME":var a=t.payload.departments.filter((function(e){return"Xidmet"===e.name})),n={},r=a[0].queues[0],i=a[0].queues;if(a.length>0)for(var c=0,l=Object.entries(a[0]);c<l.length;c++){var o=Object(E.a)(l[c],2),u=o[0],s=o[1];-1!==b.indexOf(u)||(-1!==w.indexOf(u)?(n["".concat(u)]=s,n["".concat(u)].added=null):n["".concat(u)]=s)}return Object(h.a)({},e,{departmentsName:t.payload.departments.map((function(e){return e.name})),departments:t.payload.departments,branchName:t.payload.branch.name,showCardData:n,shownQueueData:r,shownQueueTableData:i,queues:a[0].queues});case"SET_SHOWN_DEPARTMENT_NAME":var m=t.data.filter((function(e){return e.name===t.departmentName})),d={};if(m.length>0)for(var p=0,f=Object.entries(m[0]);p<f.length;p++){var g=Object(E.a)(f[p],2),v=g[0],_=g[1];-1!==b.indexOf(v)||(d["".concat(v)]={},w.indexOf(-1!==v)&&(d["".concat(v)].added=null),d["".concat(v)]=_)}var O=m[0].queues,y=m[0].queues[0];return Object(h.a)({},e,{shownQueue:null,shownDepartmentName:t.departmentName,showCardData:d,shownQueueData:y,shownQueueTableData:O,queues:m[0].queues});case"SET_SHOWN_QUEUE":var C=e.queues.filter((function(e){return e.id===t.queueId}));return Object(h.a)({},e,{shownQueue:t.queueId,shownQueueData:Object(h.a)({},C[0])});case"UPDATE_TIME":if(Object.keys(e.shownQueueData).length<1)return Object(h.a)({},e);var x=e.showCardData,j=e.shownQueueData,N=[];if(e.showTableView)for(var T=0,S=Object.entries(j);T<S.length;T++){var D=Object(E.a)(S[T],2),k=D[0],R=D[1];if(-1!==w.indexOf(k)&&R.dinamic){var I=Date.now()-new Date(R.calculation_time).getTime(),Q=I*R.coefficient,H=new Date(R.value+Q),M=H.getHours()+":"+(H.getMinutes()<10?"0"+H.getMinutes():H.getMinutes())+":"+(H.getSeconds()<10?"0"+H.getSeconds():H.getSeconds());j[k].added=M}}else(N=e.shownQueueTableData.map((function(e){return e}))).forEach((function(e,t){for(var a=0,n=Object.entries(e);a<n.length;a++){var r=Object(E.a)(n[a],2),i=r[0],c=r[1];if(-1!==w.indexOf(i)&&c.dinamic){var l=(Date.now()-new Date(c.calculation_time).getTime())*c.coefficient,o=new Date(c.value+l),u=o.getHours()+":"+(o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes())+":"+(o.getSeconds()<10?"0"+o.getSeconds():o.getSeconds());e[i].added="",e[i].added=u}}}));for(var q=0,B=Object.entries(x);q<B.length;q++){var V=Object(E.a)(B[q],2),P=V[0],W=V[1];if(-1!==w.indexOf(P)&&W.dinamic){var L=Date.now()-new Date(W.calculation_time).getTime(),U=L*W.coefficient,J=new Date(W.value+U),Z=J.getHours()+":"+(J.getMinutes()<10?"0"+J.getMinutes():J.getMinutes())+":"+(J.getSeconds()<10?"0"+J.getSeconds():J.getSeconds());x[P].added=Z}}return e.showTableView?Object(h.a)({},e,{showCardData:x,shownQueueData:j}):Object(h.a)({},e,{showCardData:x,shownQueueTableData:N});case"UPDATE_DEPARTMENT":var z=e.departments.map((function(e){return e.id===t.data.id?Object(h.a)({},e,{},t.data):Object(h.a)({},e)}));if(e.showCardData.id===t.data.id){var G={};return G=Object(h.a)({},e.showCardData,{},t.data),Object(h.a)({},e,{departments:z,showCardData:G})}return Object(h.a)({},e,{departments:z});case"CHANGE_QUEUE_VIEW":return Object(h.a)({},e,{showTableView:t.viewBool});default:return e}}),void 0,Object(Qe.composeWithDevTools)(Me)),Be=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:qe},r.a.createElement(Ie,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},16:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__3qUkX",sidebarItemClass:"Sidebar_sidebarItemClass__19DBQ",sidebarItemClass_active:"Sidebar_sidebarItemClass_active__T6MH4",sidebarNavClass:"Sidebar_sidebarNavClass__1ouUO"}},20:function(e,t,a){e.exports={content:"content_content__32GsC",contentCard:"content_contentCard__1lFWg",contentList:"content_contentList__36bNL",contentlistveiw:"content_contentlistveiw__3cLJM",contentlistveiw_header:"content_contentlistveiw_header__2Azxr",contentlistveiw_tabs:"content_contentlistveiw_tabs__1t3d1"}},27:function(e,t,a){e.exports={table:"liststyle_table__3qaUE",table_head:"liststyle_table_head__2mIaa",table_body:"liststyle_table_body__ncwqr"}},34:function(e,t,a){e.exports={header:"Header_header__1v0yI",headerContainer:"Header_headerContainer__1HSoZ"}},53:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAAAhCAYAAABk8x8jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkQSURBVHgB7VzNbhzHEf56uCRjCInpKJERJIZGFx8C2KaeIMu8QGQgdy+fwOtDEOTE5SlHUg8QaPMEop6Ay2sSQ6SQODdzAie5BIFIQ5YtidxxVU/1sqen52eXM+RqNR80np2a/qnpqa+7qnpo9ad3P4j/+1LhrUDFywHUaqCwEgCrfCgFkvF13AmU6uDi97JCvKSgOlRmScXQZ8SxIpAcVI3kiq5B/+IY4Dv0XyBW43j75pO/baNFizlCcHMFeG81xljbKZsqGTSfIYbLEm3PbM5IbDrWIr6K9T8qaWQqEcBUkd8JIbSgJUKL+QRP4FhbBn6+OkYgxo5kJte2OzHoVK2AbTthgQbZueYILi7jyZXwRfNhcPOwJULToKE/ji9wjDcIcRr709QNzI8bS8C7K2MtSCw8RkKKpIeJ2bPITPIwBc0CIBKllEfNwU/foBWBxmmND7R4bdCxL1ZoHfjx8hjPzgM1mc0ZCnLt2rksIoknpVcG42OxNJBYgZaJwa0KKwIZT8++piaHBWW7dAod8SHVOcQ1g3Tr02mLDibELun0GeYYpGNIp27O7RMk4xphwdHJCIgQP1wa40UcpG9M1gGzSiThgTZ+Za8MEkogkRMTereO/vpnVMMD53roK0QqrNPpIR32zBvRcRfXDFkNdixRn2SPyJhGmF+EyI59CvQMEZ0G9BxV3+Vrh8An5OzQW2qcRAwabNRi4Upb/8W1CZjj5DARR5JDIiI8+UutgyezmI8IG6TbCa4foUf2Nl5/hHQMZdVbSAR5NxSnS3GOiZXjInzQwbK6CC3UxFdKCmhCnKvez5ohAgdFoSWOkBAhwhxA3LSRJYroOLLL0HM84OBOjoeYP/CkEsnZxdaixkJBWYE4PpeAOdkl0BkmkyjSYpNxik0EocbjoPeLf9ROBH4BbDihJeaXNTdEsPAxHZt08Cx616Nf1zrWMX/gOOcOHe/Q73tIiGHA7+ETLCA6VQq9Gp+jE0y2DJhBsY6WA9lG09A0OVXxUv92zUQQ7CJtOPNKBIi7NsQCgJ7lkazIu5Z4Hgl8aVQiA68D352dobOynGyz6bhYvKQkno6JIadEmo33v/i89mwO9TFAdjbqz0Pm6A3BkXMdYgFRiQwMCqfx7NUrLK909JIAs+PMgbIan4zj8a/f/+KwKSJsOeJ+1ayGuFe81N8W0YHJ7EhWauL/WvKu1cQJk05mx560w3UiOrxZooJ215AO/OH0F7kr3Sz6N4DQuS58zx6dj0i3PbmX0hlJ2vZExjf09MGT4LrcY9mBaWsWiG7uyqbfcWUyMMZEg6cvz9RPVjtYCrTfRNFyfBqgMSLwgLpE4PTe/Qp1QyTpwq7nXkSnDaRjEJbdsYJ0gxGnRkUP15D7pi3HiHecfo0veQ/ZFGZo9TegY/sy+qNmCFHdd3A/pyyPD8dJn8IZK9F5U9rqWrdCJC4vy3uWnJ/vAdIE4Xp5Y16KogQM/5iKDAwmxP9fnuPWqqI4Aqck2WiCCALXcJgIVTbvQmQf2oa5XyUr0kX+htSkLeqztvilZv1nQc/a1Ayde4OC52Sd8uKJEAl5q6a/3fS52xbbxgYqImdM2W4/Ns8zNRkY58SIr56f0XwXbP72q8aIwHAHI0I1+AxJ76TK7y6m93vtdKO71IeY8uWUoAn9p0EIf/sRct4B77TD434grbPXTcyBKXco7XSd+13q8zYZ8r9QggIipPamSlOrPrygAOLvz4DPT8c7v//Beoirw674nLkQ1yp0xBxjvEMHPzwbLLsTEapjyHWo7l2pzzvdrt/adWINH/ZEt8iSReoC2w3pXxdCJBtvx2JgGvL7U6csk+OOo/M0E2eE9JhzfXdV6ZY1kkMEfg8pIjCmJsNz2nb45zdKE4I7CFbG+w0Soov0AOi9hpJNn98417tujCHLYtVZnI110x44rk8H7yW4L/ejooa4jQozWd36z4IR0nshfaTJFyLtwnad+hwUf+aOGRKdq7pJe7Y7Jr+HmA4hskQY8rtTnq8VpiKDQ4RJh0SIx7+78ct11AxS+IBO7kduIRJ/Mg+uHvdz2o6Q3inOw27BvSGK+54Fdes/C5jsB9bBOriGbK+Ev3LqD3yNTrn/sueRHWE6hMgSYTOvcGUyGCKcxd7ba52lzn5DhBgia5D8InZyqqw59SPko+helTLuLB/i8qhb/1ogergGakgQOvKi2X9ag64T92z3zkUlMvzvpSoigkGThODVYeSI+1U+GuMgq+B2iHIUlXHbjlAzatC/Tqzl9B+VlLNR6ErWDDuAZ7Be+3mEKCUDE+HLb1FGhElnRIjHf7jx4SeoH+yjR45sxxNQu368lzAl3/Db6BXc65f0PQvq1r8WSH/uWEdyrqqz2Yy7KuiMEbLxjpcQhWQwRJgaSxjWTQjxN5kQ7hL80HmwoXO/L7vYE4ivu49qWOcvS53sCf/RzhDZmfkRLo+hc+3TP0R1/S8FedYu/OnekZxd16fr0VknP3DFq5nYjY8QmURMLhn+/d2MRDBohhDMdHfTLYT1YPxhGbIryJakA3lGeIziDS0feDZ7bNU/RvZbqaGqYdOtov7cf4jm0IsF9Psp/OMVSYLDfAYyQlbnp47OXVwD5L24EymvcqlEjJcMTIT/vMDlwYT40YcD1Ah6MA6m3YCaH8z+ZMC3goTIfjJdJc1nyqxZ9V2fOEI263UZ1Kl/E4iQTe363NiiMbtSyETqviNewSYp4gwZaiPCBbbqJgSS1SHjp5qAWh6cN8ainPpsRD1UMya9ZV/Q1h6Sv1mozTBr1r9OcH8DeP5Gw3JHRgX1B2guHVwKyUy6hOgZl07tvffBJDRugAg2tv/49ZNBUQFSKpWvNstwTtkQ2WxOpk6c/E8GeCPL3t6/zy/T6e/U+jr12JKPeAfUClg/kra4nT3fJpoE9W8X6JTpF/nP2ZtG/2nbl/JryG72uYiQfH1aSkDpv4d0tondyIO8sXHlvr4879xXpvTZXTszekzI0DARDEoJcd3IIwNaLDy0m3RFRGA04TK1aFELgi+fXxkRDFpCtGjxOoDdpDiNK8nnt7h+zPQJd4sWi4iWDC1aCGb6S7cFh8nh29ct3gB8D6J1k4fkv7zwAAAAAElFTkSuQmCC"},57:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA0SURBVHgB7dGhEQAwCEPRtEN3iE5dUwyGwwDiP5OLiIoEjLdcvz+P61m21xYCfNCPD4ACD9pLBgqdOGlRAAAAAElFTkSuQmCC"},58:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABGSURBVHgB7dExCgAgDAPAKH7NV/s5QSqoVAelDpqDDt0SAtDz3PBHuRNJrvAwFrBOURt1qSbU9uYNuEGLG+zhBpq7G9AHMiSZFB9O+GmIAAAAAElFTkSuQmCC"},60:function(e,t,a){e.exports=a(102)},65:function(e,t,a){},9:function(e,t,a){e.exports={queues:"listcol_queues__8dN3I",queues_name:"listcol_queues_name__3rrMT",queues_data:"listcol_queues_data__3Vb0B",queues_title:"listcol_queues_title__32Itv",queues_list:"listcol_queues_list__1TI-C"}}},[[60,1,2]]]);
//# sourceMappingURL=main.5c95efc2.chunk.js.map